# JAVA教程 - 准备篇

## 环境搭建

### 安装 JDK

到官网下载 JDK 安装包，开发者应该下载 JDK 包，不要下载 JRE 包。JDK 是 java 程序开发环境包，JRE 是 java 程序运行环境包。

下载的时候可以根据自己的操作系统选择对应的版本。

[JDK下载地址](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)

### JDK 目录结构

一般 JDK 安装包会包含 JRE 包，安装完成之后会看到如下图所示：

![JDK](/images/learn/java-ready-jdk-1.png)

上图的两个目录中，第一个才是 JDK 目录，第二个是 JRE 目录。现在打开 JDK 目录，目录结构如下：

![JDK](/images/learn/java-ready-jdk-2.png)

第一个目录，bin 目录，里面存放了很多 ".exe" 可执行文成，这些文件在开发 java 程序时会用到。注意这些文件是用 windows 的黑窗口运行，不是双击就能用的，运行的方式是打开命令行窗口，把光标前面的路径定位到该目录，然后输入想要运行的文件名，如 "java.exe" ，然后按回车，".exe" 还可以省略。像这些可以在命令行窗口运行的程序也叫命令。

![运行命令](/images/learn/java-ready-cmd.png)

再看 lib 目录，"lib" 是 library 的缩写，这里存放的是是一些类库文件。

jre 目录就是 java 的运行时环境，和外面的 jre1.8.0_65 目录内容是一模一样的。

其他目录在这里就不做介绍了。

### 环境变量

这里的“环境”在就是我们平时理解的环境那样，比如我们所处的地球，我们上课的教室，日常生活的圈子，这些就是我们人类生活的环境，这环境总是直接或间接地影响我们，比如的我们的教室很小，那么就容不下那么多学生；地球空气糟糕，可能我们的寿命就会受到威胁等等。

那么程序的运行，也是有一个“环境”的，这个环境也在影响着这个程序，“环境变量”就是一个因素。有些程序需要环境提供一个变量，程序根据这个变量的值不同而产生不同的逻辑。

这里以 Windows 系统为例，设置环境变量可以通过命令行窗口来完成。

#### 设置一个环境变量

用 set 操作符来设置一个环境变量，如下

```
# 注意，等号前后不能有空格
set name=123
```

#### 引用环境变量

用两个百分号 `%` 将变量名括起来即可引用，如下

```
# echo 是输出这个变量的值
echo %name%
```

图为关于环境变量的总结：

![环境变量图](/images/learn/java-envar.png)

### java 开发中需要设置的环境变量

在 java 的开发活动中，通常需要环境设置 `JAVA_HOME` 、`CLASSPATH` 这两个变量。`JAVA_HOME` 的值是 JDK 的安装目录，如 `C:\Program Files\Java\jdk1.8.0_101` ；`CLASSPATH` 的值类似 `.;C:/foo/bar;D:/xyz/abc` ，这个值罗列的是一些目录，这是 java 虚拟机搜寻 class 文件的目录，java 虚拟机会在这个变量列举的目录里尝试搜寻欲运行的 class 文件，搜寻到就加载，都搜寻不到就报错。

需要指出的是，在命令行窗口中设置的环境变量是临时的，而且也仅在当前命令行窗口下有效。

为了随便打开一个命令行都有效，需要按照接下来的设置方法那样设置。请继续往下看。

### JAVA_HOME 变量

右键点击我的电脑 -> 属性 -> 高级系统设置 -> 环境变量，然后添加一个系统变量，变量名叫 "`JAVA_HOME`" 变量的值是 jdk 的目录路径，本例的是 "`D:\\ljj\\apps\\Java\\jdk1.8.0_65`"

![JAVA_HOME](/images/learn/java-ready-home.png)

### CLASSPATH 变量

右键点击我的电脑 -> 属性 -> 高级系统设置 -> 环境变量，然后添加一个系统变量，变量名叫 "CLASSPATH" 变量的值是
"`.`"。

CLASSPATH 变量的意义是，java 虚拟机搜寻 class 文件的目录。就是说添加到这个变量下的路径，可能会存放着你想要的 class 文件，当你依赖某个 class 时，java 虚拟机会尝试在这些目录里搜寻，搜寻到了就加载这个 class 文件。

这个意义如果不理解就先配置，学到后面就会慢慢理解了。

![CLASSPATH](/images/learn/java-ready-path.png)

这样子设置好了的环境变量，在随便打开一个命令行窗口，就都有了这些变量了。可以用 `echo %变量名%` 来查看是否设置上了。

### 全局调用 jdk 中 bin 目录下的命令

要想调用 jdk 中 bin 目录下的命令，就要打开命令行窗口，把路径定位到 bin 目录下，这样做很麻烦，有没有不用管路径在哪，都能调用的方法呢，答案是肯定的。

右键点击我的电脑 -> 属性 -> 高级系统设置 -> 环境变量，这次就不是新建自己的变量了，是把 bin 目录追加到 "Path" 变量的值中，给 "Path" 的值追加 "`%JAVA_HOME%/bin`"，注意多个路径之间都是用分号隔开的，看看原来的后面有没有分号，没有要先加上再追加自己的路径，分号都是英文分号。因为我们已经添加了 "`JAVA_HOME`" 变量，它的值也就是 jdk 的目录，所以可以直接引用这个变量。

现在可以不用管命令行路径都可以调用 bin 目录下的命令了，因为当在当前命令行路径下搜寻不到命令是，就会再搜寻 Path 中列出的目录路径，找到了就执行，还是找不到就报错。

## 常用命令

这里说说几个 JAVA_HOME 下的 bin 目录下的两个常用命令。

java.exe 运行 class 字节码

javac.exe 编译 java 源代码
