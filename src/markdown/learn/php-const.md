# PHP教程 - 常量

知道了什么是变量之后，再接着学习常量。和数学的概念一样，值始终不会变的始终唯一的量较常量。如重力加速度、圆周率、摩尔、元电荷等等，这些量它们的值始终是一个定值。在PHP中又是怎样表示常量的呢，接着看。

## 定义常量

在PHP中，通过「`define`」函数定义常量，更多请看代码示例

```php
define('G', 9.8); // 定义了一个常量 G ，它的值是 9.8
define('PI', 3.14, true); // 第三个参数是可选的，常量名是否区分大小写，默认是区分大小写的
```

在实践中，建议常量名总是用大写，多个单词用下划线分隔，并且区分大小写。

## 检测常量

常量一旦定义，就是全局性的，在任何地方都可以访问到，因为不能出现重复定义某个常量的现象，所以在定义一个常量前常常需要检测上下文是否已经定义了某个常量。用「`defined`」函数检测，如果已经定义了就返回真，否则返回假。

```php
if (defined('G')) {
    echo 'G常量已经定义';
} else {
    echo 'G常量还没定义';
}
```

## 使用常量

常量定义好之后就可以使用了。

```php
// 质量为50kg的中学生，他的重量是多少牛顿？
define('G', 9.8);
echo '50kg的中学生其重量为：' . G * 50 . '牛顿';
```

就像示例代码那样，常量一旦定义，就可以直接使用。

注意：使用常量不用加美元符号($)。

## 魔术常量

魔术常量是PHP内置的一些常量，它们的值好像又是会“变”的，这又是怎么回事呢？

「`__LINE__`」文件中的当前行号。

「`__FILE__`」文件的完整路径和文件名。如果用在被包含文件中，则返回被包含的文件名。自 PHP 4.0.2 起，`__FILE__`总是包含一个绝对路径（如果是符号连接，则是解析后的绝对路径），而在此之前的版本有时会包含一个相对路径。

「`__DIR__`」文件所在的目录。如果用在被包括文件中，则返回被包括的文件所在的目录。它等价于 dirname(`__FILE__`)。除非是根目录，否则目录中名不包括末尾的斜杠。（PHP 5.3.0中新增）

「`__FUNCTION__`」函数名称（PHP 4.3.0 新加）。自 PHP 5 起本常量返回该函数被定义时的名字（区分大小写）。在 PHP 4 中该值总是小写字母的。

「`__CLASS__`」类的名称（PHP 4.3.0 新加）。自 PHP 5 起本常量返回该类被定义时的名字（区分大小写）。在 PHP 4 中该值总是小写字母的。类名包括其被声明的作用区域（例如 Foo\Bar）。注意自 PHP 5.4 起 `__CLASS__` 对 trait 也起作用。当用在 trait 方法中时，`__CLASS__` 是调用 trait 方法的类的名字。

「`__TRAIT__`」Trait 的名字（PHP 5.4.0 新加）。自 PHP 5.4 起此常量返回 trait 被定义时的名字（区分大小写）。Trait 名包括其被声明的作用区域（例如 Foo\Bar）。

「`__METHOD__`」类的方法名（PHP 5.0.0 新加）。返回该方法被定义时的名字（区分大小写）。

「`__NAMESPACE__`」当前命名空间的名称（区分大小写）。此常量是在编译时定义的（PHP 5.3.0 新增）。

像长以上这个样子的常量，是PHP提供的魔术常量，它们可以直接使用。如最常用的 `__DIR__` 表示当前脚本所在目录。

注意：我们定义自己的常量是，千万不要写成这种风格，这种风格应当保留给PHP引擎。
